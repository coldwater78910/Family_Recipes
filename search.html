<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Search â€¢ Cook Family Recipes</title>
    <style>
        :root{--accent:#e76f51;--muted:#6b7280;--bg:#fffaf8;--card:#ffffff;--radius:12px;font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
        body{margin:0;background:linear-gradient(180deg,#fff 0%, #fffaf8 100%);color:#111}
        .container{max-width:900px;margin:28px auto;padding:24px}
        header{display:flex;align-items:center;gap:12px}
        .logo{width:38px;height:38px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#f4a261);display:inline-block}
        .search{margin-top:12px;display:flex;gap:8px}
        .search input{flex:1;padding:10px;border-radius:10px;border:1px solid #e6e6e9}
        .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-top:18px}
        .card{background:var(--card);border-radius:12px;overflow:hidden;display:block;text-decoration:none;color:inherit}
        .thumb{height:140px;background-size:cover;background-position:center}
        .card-body{padding:12px}
        .meta{display:flex;justify-content:space-between;color:var(--muted);font-size:13px}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo" aria-hidden="true"></div>
            <h1 style="margin:0">Search recipes</h1>
        </header>

                <link rel="icon" href="Icon.png" type="image/png">
                <link rel="apple-touch-icon" href="Icon.png">
        <form class="search" role="search" action="search.html" method="get">
            <input id="q" name="q" type="search" placeholder="Search recipes">
            <button type="submit">Search</button>
        </form>

        <div id="results" class="grid" aria-live="polite"></div>

    <p style="margin-top:20px"><a href="Cook Family Recipes.html">Back to Home</a></p>
    </div>

    <script src="recipes-data.js"></script>
    <script src="recipes-slug-map.js"></script>
    <script src="js/filter-render.js"></script>
    <script>
        function qs(name){ const params = new URLSearchParams(location.search); return params.get(name) || ''; }
        const q = qs('q');
        document.getElementById('q').value = q;
        const results = (q && q.trim()) ? (window.RECIPES || []).filter(r=> (r.title||'').toLowerCase().includes(q.toLowerCase()) || (r.tags||'').toLowerCase().includes(q.toLowerCase())) : (window.RECIPES || []);
        // use shared renderer to display results
        if(window.FILTER) FILTER.renderList(document.getElementById('results'), results);
        else {
            // fallback: simple rendering
            const el = document.getElementById('results');
            el.innerHTML = results.map(r=> `
                <a class="card" href="recipe.html?title=${encodeURIComponent(r.title)}">
                    <div class="thumb" style="background-image:url('${r.img}')" role="img" aria-label="${r.title}"></div>
                    <div class="card-body">
                        <div style="font-weight:700">${r.title}</div>
                        <div class="meta"><span>${r.time}</span><span>${r.difficulty}</span></div>
                        <div style="color:var(--muted);font-size:14px">${r.desc}</div>
                    </div>
                </a>
            `).join('');
        }
    </script>
</body>
</html>